<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="626px" preserveAspectRatio="none" style="width:667px;height:626px;" version="1.1" viewBox="0 0 667 626" width="667px" zoomAndPan="magnify"><defs/><g><!--MD5=[fbc87193dbaf4d95561dea2c320d4a47]
cluster E1--><polygon fill="#98FB98" points="488,295,597,295,604,317.2969,650,317.2969,650,370,488,370,488,295" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="488" x2="604" y1="317.2969" y2="317.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="103" x="492" y="309.9951">Environment</text><!--MD5=[e4f7fae6ed58524ba242bb0b0d3be6b7]
cluster E2--><polygon fill="#98FB98" points="488,49,597,49,604,71.2969,634,71.2969,634,124,488,124,488,49" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="488" x2="604" y1="71.2969" y2="71.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="103" x="492" y="63.9951">Environment</text><!--MD5=[68e6f66fb88921cf0ce1150788751dd4]
cluster RaspberryPi--><polygon fill="#FFA07A" points="16,6,118,6,125,28.2969,464,28.2969,464,619,16,619,16,6" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="16" x2="125" y1="28.2969" y2="28.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="96" x="20" y="20.9951">RaspberryPi</text><!--MD5=[161529c905c57da6c5c3c392fbf6cca7]
cluster Attached Hardware--><polygon fill="#FFF5EE" points="270,295,430,295,437,317.2969,440,317.2969,440,370,270,370,270,295" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="270" x2="437" y1="317.2969" y2="317.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="154" x="274" y="309.9951">Attached Hardware</text><!--MD5=[42591781c74864aa6bd8b9830e23a81c]
cluster Docker--><polygon fill="#87CEFA" points="40,173,102,173,109,195.2969,246,195.2969,246,595,40,595,40,173" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="40" x2="109" y1="195.2969" y2="195.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="56" x="44" y="187.9951">Docker</text><!--MD5=[fecebf0184799789897c7587c6453b83]
cluster Crontab Scripts--><polygon fill="#FFFFFF" points="132,49,261,49,268,71.2969,403,71.2969,403,124,132,124,132,49" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="132" x2="268" y1="71.2969" y2="71.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="123" x="136" y="63.9951">Crontab Scripts</text><!--MD5=[31d6b3a0d432f5ada5a3a8c5ac84e56c]
cluster Ex--><polygon fill="#FFFFFF" points="488,520,561,520,568,542.2969,594,542.2969,594,595,488,595,488,520" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="488" x2="568" y1="542.2969" y2="542.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="67" x="492" y="534.9951">External</text><!--MD5=[acf059b703978950c3503f3e640c32cd]
class sensorLacrosse--><rect codeLine="24" fill="#FFFFFF" height="23.9688" id="sensorLacrosse" style="stroke:#000000;stroke-width:1.5;" width="130" x="504" y="330"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="124" x="507" y="346.1387">La Crosse Sensor(s)</text><!--MD5=[22502c3db44c14b28482b7b4e23d3bae]
class sensorMiflora--><rect codeLine="28" fill="#FFFFFF" height="23.9688" id="sensorMiflora" style="stroke:#000000;stroke-width:1.5;" width="113" x="504.5" y="84"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="107" x="507.5" y="100.1387">MiFlora Sensor(s)</text><!--MD5=[00e09975e8c15c689e98168c296211fd]
class jeelink--><rect codeLine="33" fill="#FFFFFF" height="23.9688" id="jeelink" style="stroke:#000000;stroke-width:1.5;" width="49" x="342.5" y="330"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="43" x="345.5" y="346.1387">JeeLink</text><!--MD5=[5ea93f34c9db0183587b445636901c88]
class nodered--><rect codeLine="37" fill="#FFFFFF" height="23.9688" id="nodered" style="stroke:#000000;stroke-width:1.5;" width="58" x="146" y="330"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="52" x="149" y="346.1387">nodered</text><!--MD5=[7c0982c1395781ced04ca00a36c25145]
class grafana--><rect codeLine="38" fill="#FFFFFF" height="23.9688" id="grafana" style="stroke:#000000;stroke-width:1.5;" width="51" x="65.5" y="555"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="45" x="68.5" y="571.1387">grafana</text><!--MD5=[ade9db4f15f152926b2e1fe10e395b07]
class influxdb--><rect codeLine="39" fill="#FFFFFF" height="23.9688" id="influxdb" style="stroke:#000000;stroke-width:1.5;" width="53" x="64.5" y="433"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="47" x="67.5" y="449.1387">influxdb</text><!--MD5=[c24edbdbbc0750b8dddfd0ea1ca3e084]
class mosquitto--><rect codeLine="40" fill="#FFFFFF" height="23.9688" id="mosquitto" style="stroke:#000000;stroke-width:1.5;" width="66" x="131" y="208"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="60" x="134" y="224.1387">mosquitto</text><!--MD5=[8ec133213a10b86d0addb07a2405c8b5]
class scriptRaspiHealth--><rect codeLine="48" fill="#FFFFFF" height="23.9688" id="scriptRaspiHealth" style="stroke:#000000;stroke-width:1.5;" width="95" x="148.5" y="84"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="89" x="151.5" y="100.1387">raspi-health.py</text><!--MD5=[88a7b43ba4dabfe1670a465842720d4b]
class scriptMiflora--><rect codeLine="49" fill="#FFFFFF" height="23.9688" id="scriptMiflora" style="stroke:#000000;stroke-width:1.5;" width="108" x="279" y="84"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="102" x="282" y="100.1387">miflora/gather.py</text><!--MD5=[a9a1a25f326d2d49bb1fe255cae817fc]
class discord--><rect codeLine="58" fill="#FFFFFF" height="23.9688" id="discord" style="stroke:#000000;stroke-width:1.5;" width="73" x="504.5" y="555"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="67" x="507.5" y="571.1387">DiscordBot</text><!--MD5=[434968027c3affb00ae0d9920bf82087]
link mosquitto to nodered--><path codeLine="42" d="M165.015,232.074 C166.963,253.327 171.235,299.922 173.508,324.72 " fill="none" id="mosquitto-to-nodered" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="173.987,329.953,177.1502,320.6259,173.5314,324.9738,169.1835,321.355,173.987,329.953" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="64" x="171" y="275.0669">push data</text><!--MD5=[c44c863058bcedc2dbf3bee2aafbf085]
link nodered to influxdb--><path codeLine="43" d="M165.69,354.195 C150.552,372.396 120.589,408.423 103.574,428.881 " fill="none" id="nodered-to-influxdb" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="100.352,432.755,109.1822,428.393,103.5491,428.9107,103.0314,423.2776,100.352,432.755" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137" x="140" y="399.0669">store timeseries data</text><!--MD5=[8ef4b411fbac159fefa1e848fedf73d6]
reverse link influxdb to grafana--><path codeLine="44" d="M91,462.311 C91,487.127 91,533.721 91,554.9525 " fill="none" id="influxdb-backto-grafana" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="91,457.074,87,466.074,91,462.074,95,466.074,91,457.074" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125" x="92" y="500.0669">get timeseries data</text><!--MD5=[0c3c7b37073fc50b23e695cba231056f]
link scriptRaspiHealth to scriptMiflora--><!--MD5=[60c07c56880ca766bc0563fe4c9abd1b]
link scriptRaspiHealth to mosquitto--><path codeLine="54" d="M180.812,108.326 C171.725,116.1 161,127.285 156,140 C147.863,160.695 153.157,186.677 158.187,203.066 " fill="none" id="scriptRaspiHealth-to-mosquitto" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="159.724,207.827,160.7639,198.0332,158.1871,203.0691,153.1512,200.4923,159.724,207.827" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132" x="157" y="153.0669">send RPi health data</text><!--MD5=[5c4d37f106b8f7b91c6dc67a3b93e961]
reverse link jeelink to sensorLacrosse--><path codeLine="61" d="M396.823,342 C424.841,342 467.721,342 503.678,342 " fill="none" id="jeelink-backto-sensorLacrosse" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="391.769,342,400.769,346,396.769,342,400.769,338,391.769,342" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="64" x="415.75" y="335.0669">send data</text><!--MD5=[72dfd7a940ddb226af3452fd3c5c5751]
reverse link nodered to jeelink--><path codeLine="62" d="M209.176,342 C247.471,342 308.609,342 342.451,342 " fill="none" id="nodered-backto-jeelink" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="204.161,342,213.161,346,209.161,342,213.161,338,204.161,342" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80" x="233.25" y="335.0669">receive data</text><!--MD5=[3ec76bd61920ca3a7e5035baf3fbd541]
link scriptMiflora to sensorMiflora--><path codeLine="63" d="M387.033,96 C420.67,96 464.045,96 499.069,96 " fill="none" id="scriptMiflora-to-sensorMiflora" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="504.173,96,495.173,92,499.173,96,495.173,100,504.173,96" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="55" x="418.25" y="89.0669">poll data</text><!--MD5=[4bea3f0d5596596e2b59456a6b84ea2b]
link scriptMiflora to mosquitto--><path codeLine="64" d="M328.13,108.051 C321.869,121.187 309.882,143.078 294,157 C267.071,180.605 229.586,197.203 201.784,207.247 " fill="none" id="scriptMiflora-to-mosquitto" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="197.06,208.924,206.8796,209.6821,201.7718,207.251,204.2029,202.1432,197.06,208.924" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="309" y="153.0669">send miflora data</text><!--MD5=[3c190e46bf5231713ee75fef79e9614b]
link nodered to discord--><path codeLine="65" d="M204.141,352.098 C227.044,359.762 259.408,371.743 286,386 C381.615,437.261 483.637,518.433 523.567,551.3811 " fill="none" id="nodered-to-discord" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="527.681,554.7868,523.2992,545.9664,523.8296,551.5983,518.1976,552.1287,527.681,554.7868" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="399" y="449.5669">send notifications</text><!--MD5=[8fedc5e0459a205eb095212ad75d68f3]
@startuml
skinparam shadowing false

skinparam package {
  BackgroundColor white
  BorderColor black
  FontStyle italic bold

  BackgroundColor<<Environment>> PaleGreen
  BackgroundColor<<RaspberryPi>> LightSalmon
  BackgroundColor<<Hardware>> SeaShell
  BackgroundColor<<Docker>> LightSkyBlue
}

skinparam class {
  BackgroundColor none
  BorderColor Black
}

hide members
hide circle
hide stereotype

package "Environment" as E1 <<Environment>> {
  class "La Crosse Sensor(s)" as sensorLacrosse
}

package "Environment" as E2 <<Environment>> {
  class "MiFlora Sensor(s)" as sensorMiflora
}

package RaspberryPi <<RaspberryPi>> {
  package "Attached Hardware" <<Hardware>> {
    class "JeeLink" as jeelink
  }

  package Docker <<Docker>> {
    class nodered
    class grafana
    class influxdb
    class mosquitto

    mosquitto -down-> nodered: push data
    nodered -down-> influxdb: store timeseries data
    grafana -up-> influxdb: get timeseries data
  }

  package "Crontab Scripts" {
    class "raspi-health.py" as scriptRaspiHealth
    class "miflora/gather.py" as scriptMiflora

    scriptRaspiHealth -right[hidden]-> scriptMiflora
  }

  scriptRaspiHealth -down-> mosquitto: send RPi health data
}

package "External" as Ex {
  class "DiscordBot" as discord
}

sensorLacrosse -left-> jeelink: send data
jeelink -left-> nodered : receive data
scriptMiflora -right-> sensorMiflora: poll data
scriptMiflora -down-> mosquitto: send miflora data
nodered -down- -> discord: send notifications
@enduml

PlantUML version 1.2021.2beta9(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>